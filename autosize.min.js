(function(h,e){if("function"===typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!==typeof exports&&"undefined"!==typeof module)e(exports,module);else{var g={exports:{}};e(g.exports,g);h.autosize=g.exports}})(this,function(h,e){function g(a){function b(){var f=window.getComputedStyle(a,null);"vertical"===f.resize?a.style.resize="none":"both"===f.resize&&(a.style.resize="horizontal");k="content-box"===f.boxSizing?-(parseFloat(f.paddingTop)+parseFloat(f.paddingBottom)):parseFloat(f.borderTopWidth)+
parseFloat(f.borderBottomWidth);isNaN(k)&&(k=0);c()}function d(f){var b=a.style.width;a.style.width="0px";a.offsetWidth;a.style.width=b;a.style.overflowY=f;g()}function e(a){for(var b=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&b.push({node:a.parentNode,scrollTop:a.parentNode.scrollTop}),a=a.parentNode;return b}function g(){var b=a.style.height,d=e(a),c=document.documentElement&&document.documentElement.scrollTop;a.style.height="auto";var r=a.scrollHeight+k;0===a.scrollHeight?
a.style.height=b:(a.style.height=r+"px",h=a.clientWidth,d.forEach(function(a){a.node.scrollTop=a.scrollTop}),c&&(document.documentElement.scrollTop=c))}function c(){g();var b=window.getComputedStyle(a,null),c=Math.round(parseFloat(b.height)),e=Math.round(parseFloat(a.style.height));c!==e?"visible"!==b.overflowY&&d("visible"):"hidden"!==b.overflowY&&d("hidden");n!==c&&(n=c,b=l("autosize:resized"),a.dispatchEvent(b))}if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!m.has(a)){var k=null,h=a.clientWidth,n=
null,p=function(){a.clientWidth!==h&&c()},q=function(b){window.removeEventListener("resize",p,!1);a.removeEventListener("input",c,!1);a.removeEventListener("keyup",c,!1);a.removeEventListener("autosize:destroy",q,!1);a.removeEventListener("autosize:update",c,!1);m["delete"](a);Object.keys(b).forEach(function(c){a.style[c]=b[c]})}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",
q,!1);"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",c,!1);window.addEventListener("resize",p,!1);a.addEventListener("input",c,!1);a.addEventListener("autosize:update",c,!1);m.add(a);a.style.overflowX="hidden";a.style.wordWrap="break-word";b()}}function t(a){if(a&&a.nodeName&&"TEXTAREA"===a.nodeName){var b=l("autosize:destroy");a.dispatchEvent(b)}}function u(a){if(a&&a.nodeName&&"TEXTAREA"===a.nodeName){var b=l("autosize:update");a.dispatchEvent(b)}}var m="function"===typeof Set?
new Set:function(){var a=[];return{has:function(b){return-1<a.indexOf(b)},add:function(b){a.push(b)},"delete":function(b){a.splice(a.indexOf(b),1)}}}(),l=function(a){return new Event(a)};try{new Event("test")}catch(a){l=function(a){var d=document.createEvent("Event");d.initEvent(a,!0,!1);return d}}var d=null;"undefined"===typeof window||"function"!==typeof window.getComputedStyle?(d=function(a){return a},d.destroy=function(a){return a},d.update=function(a){return a}):(d=function(a,b){a&&Array.prototype.forEach.call(a.length?
a:[a],function(a){return g(a,b)});return a},d.destroy=function(a){a&&Array.prototype.forEach.call(a.length?a:[a],t);return a},d.update=function(a){a&&Array.prototype.forEach.call(a.length?a:[a],u);return a});e.exports=d});